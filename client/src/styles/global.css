@import "tailwindcss";
@plugin "@tailwindcss/typography";

/* =========================================================
   THEME TOKENS (Tailwind v4 CSS-first)
   - Font tokens
   - Flexoki palette + semantic aliases
   - Disable some default palettes (inclui stone) para evitar uso acidental
   ========================================================= */

@theme {
  /* Fonts */
  --font-sans: "Inter", ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji",
    "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";

  --font-serif: "Lora", ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;

  /* Disable default colors to prevent their use; feel free to re-enable as needed. */
  --color-amber-*: initial;
  --color-lime-*: initial;
  --color-emerald-*: initial;
  --color-teal-*: initial;
  --color-sky-*: initial;
  --color-indigo-*: initial;
  --color-violet-*: initial;
  --color-fuchsia-*: initial;
  --color-pink-*: initial;
  --color-rose-*: initial;
  --color-slate-*: initial;
  --color-zinc-*: initial;
  --color-neutral-*: initial;
  --color-stone-*: initial;

  /* Flexoki (extended palette) */
  --color-black: #100F0F;
  --color-paper: #FFFCF0;

  --color-base-50:  #F2F0E5;
  --color-base-100: #E6E4D9;
  --color-base-150: #DAD8CE;
  --color-base-200: #CECDC3;
  --color-base-300: #B7B5AC;
  --color-base-400: #9F9D96;
  --color-base-500: #878580;
  --color-base-600: #6F6E69;
  --color-base-700: #575653;
  --color-base-800: #403E3C;
  --color-base-850: #343331;
  --color-base-900: #282726;
  --color-base-950: #1C1B1A;

  --color-red-50:  #FFE1D5;
  --color-red-100: #FFCABB;
  --color-red-150: #FDB2A2;
  --color-red-200: #F89A8A;
  --color-red-300: #E8705F;
  --color-red-400: #D14D41;
  --color-red-500: #C03E35;
  --color-red-600: #AF3029;
  --color-red-700: #942822;
  --color-red-800: #6C201C;
  --color-red-850: #551B18;
  --color-red-900: #3E1715;
  --color-red-950: #261312;

  --color-orange-50:  #FFE7CE;
  --color-orange-100: #FED3AF;
  --color-orange-150: #FCC192;
  --color-orange-200: #F9AE77;
  --color-orange-300: #EC8B49;
  --color-orange-400: #DA702C;
  --color-orange-500: #CB6120;
  --color-orange-600: #BC5215;
  --color-orange-700: #9D4310;
  --color-orange-800: #71320D;
  --color-orange-850: #59290D;
  --color-orange-900: #40200D;
  --color-orange-950: #27180E;

  --color-yellow-50:  #FAEEC6;
  --color-yellow-100: #F6E2A0;
  --color-yellow-150: #F1D67E;
  --color-yellow-200: #ECCB60;
  --color-yellow-300: #DFB431;
  --color-yellow-400: #D0A215;
  --color-yellow-500: #BE9207;
  --color-yellow-600: #AD8301;
  --color-yellow-700: #8E6B01;
  --color-yellow-800: #664D01;
  --color-yellow-850: #503D02;
  --color-yellow-900: #3A2D04;
  --color-yellow-950: #241E08;

  --color-green-50:  #EDEECF;
  --color-green-100: #DDE2B2;
  --color-green-150: #CDD597;
  --color-green-200: #BEC97E;
  --color-green-300: #A0AF54;
  --color-green-400: #879A39;
  --color-green-500: #768D21;
  --color-green-600: #66800B;
  --color-green-700: #536907;
  --color-green-800: #3D4C07;
  --color-green-850: #313D07;
  --color-green-900: #252D09;
  --color-green-950: #1A1E0C;

  --color-cyan-50:  #DDF1E4;
  --color-cyan-100: #BFE8D9;
  --color-cyan-150: #A2DECE;
  --color-cyan-200: #87D3C3;
  --color-cyan-300: #5ABDAC;
  --color-cyan-400: #3AA99F;
  --color-cyan-500: #2F968D;
  --color-cyan-600: #24837B;
  --color-cyan-700: #1C6C66;
  --color-cyan-800: #164F4A;
  --color-cyan-850: #143F3C;
  --color-cyan-900: #122F2C;
  --color-cyan-950: #101F1D;

  --color-blue-50:  #E1ECEB;
  --color-blue-100: #C6DDE8;
  --color-blue-150: #ABCFE2;
  --color-blue-200: #92BFDB;
  --color-blue-300: #66A0C8;
  --color-blue-400: #4385BE;
  --color-blue-500: #3171B2;
  --color-blue-600: #205EA6;
  --color-blue-700: #1A4F8C;
  --color-blue-800: #163B66;
  --color-blue-850: #133051;
  --color-blue-900: #12253B;
  --color-blue-950: #101A24;

  --color-purple-50:  #F0EAEC;
  --color-purple-100: #E2D9E9;
  --color-purple-150: #D3CAE6;
  --color-purple-200: #C4B9E0;
  --color-purple-300: #A699D0;
  --color-purple-400: #8B7EC8;
  --color-purple-500: #735EB5;
  --color-purple-600: #5E409D;
  --color-purple-700: #4F3685;
  --color-purple-800: #3C2A62;
  --color-purple-850: #31234E;
  --color-purple-900: #261C39;
  --color-purple-950: #1A1623;

  --color-magenta-50:  #FEE4E5;
  --color-magenta-100: #FCCFDA;
  --color-magenta-150: #F9B9CF;
  --color-magenta-200: #F4A4C2;
  --color-magenta-300: #E47DA8;
  --color-magenta-400: #CE5D97;
  --color-magenta-500: #B74583;
  --color-magenta-600: #A02F6F;
  --color-magenta-700: #87285E;
  --color-magenta-800: #641F46;
  --color-magenta-850: #4F1B39;
  --color-magenta-900: #39172B;
  --color-magenta-950: #24131D;
}

/* Semantic aliases (referenciam outras vars => usar `inline`) */
@theme inline {
  --color-light-bg:    var(--color-paper);
  --color-light-bg-2:  var(--color-base-50);
  --color-light-tx:    var(--color-black);
  --color-light-tx-2:  var(--color-base-600);
  --color-light-tx-3:  var(--color-base-300);
  --color-light-ui:    var(--color-base-100);
  --color-light-ui-2:  var(--color-base-150);
  --color-light-ui-3:  var(--color-base-200);

  --color-dark-bg:     var(--color-black);
  --color-dark-bg-2:   var(--color-base-950);
  --color-dark-tx:     var(--color-base-200);
  --color-dark-tx-2:   var(--color-base-500);
  --color-dark-tx-3:   var(--color-base-700);
  --color-dark-ui:     var(--color-base-900);
  --color-dark-ui-2:   var(--color-base-850);
  --color-dark-ui-3:   var(--color-base-800);

  --color-light-re:    var(--color-red-600);
  --color-light-or:    var(--color-orange-600);
  --color-light-ye:    var(--color-yellow-600);
  --color-light-gr:    var(--color-green-600);
  --color-light-cy:    var(--color-cyan-600);
  --color-light-bl:    var(--color-blue-600);
  --color-light-pu:    var(--color-purple-600);
  --color-light-ma:    var(--color-magenta-600);

  --color-dark-re:     var(--color-red-400);
  --color-dark-or:     var(--color-orange-400);
  --color-dark-ye:     var(--color-yellow-400);
  --color-dark-gr:     var(--color-green-400);
  --color-dark-cy:     var(--color-cyan-400);
  --color-dark-bl:     var(--color-blue-400);
  --color-dark-pu:     var(--color-purple-400);
  --color-dark-ma:     var(--color-magenta-400);

  --color-light-re-2:  var(--color-red-400);
  --color-light-or-2:  var(--color-orange-400);
  --color-light-ye-2:  var(--color-yellow-400);
  --color-light-gr-2:  var(--color-green-400);
  --color-light-cy-2:  var(--color-cyan-400);
  --color-light-bl-2:  var(--color-blue-400);
  --color-light-pu-2:  var(--color-purple-400);
  --color-light-ma-2:  var(--color-magenta-400);

  --color-dark-re-2:   var(--color-red-600);
  --color-dark-or-2:   var(--color-orange-600);
  --color-dark-ye-2:   var(--color-yellow-600);
  --color-dark-gr-2:   var(--color-green-600);
  --color-dark-cy-2:   var(--color-cyan-600);
  --color-dark-bl-2:   var(--color-blue-600);
  --color-dark-pu-2:   var(--color-purple-600);
  --color-dark-ma-2:   var(--color-magenta-600);
}

@custom-variant dark (&:where(.dark, .dark *));

/* =========================================================
   BASE LAYOUT (seu CSS original, só trocando stone-* -> Flexoki)
   ========================================================= */

html {
  overflow-y: scroll;
  color-scheme: light;
}

html.dark {
  color-scheme: dark;
}

html,
body {
  @apply size-full;
}

body {
  @apply font-sans antialiased;
  @apply flex flex-col;

  /* Antes: bg-stone-100 dark:bg-stone-900 (quebraria com stone desativado) */
  @apply bg-paper dark:bg-black;

  /* Antes: text-black/50 dark:text-white/75 */
  @apply text-base-700/85 dark:text-base-200/85;
}

header {
  @apply fixed top-0 left-0 right-0 z-50 py-5;

  /* Antes: bg-stone-100/75 dark:bg-stone-900/25 */
  @apply bg-paper/75 dark:bg-black/25;

  @apply backdrop-blur-sm;
}

main {
  @apply flex-1 py-32;
}

footer {
  @apply py-5 text-sm;
}

/* Mantém sua estrutura e melhora a coerência do prose com Flexoki */
article {
  @apply max-w-full prose dark:prose-invert prose-img:mx-auto prose-img:my-auto;
  @apply prose-headings:font-semibold prose-p:font-serif;

  /* Antes: prose-headings:text-black prose-headings:dark:text-white */
  @apply prose-headings:text-black prose-headings:dark:text-base-50;
}

/* Ajuste (seguro) de cores do Typography para Flexoki:
   - sobrescreve as CSS vars que o plugin usa para `prose` e `prose-invert` */
@layer base {
  .prose {
    --tw-prose-body: var(--color-base-700);
    --tw-prose-headings: var(--color-black);
    --tw-prose-links: var(--color-blue-600);
    --tw-prose-bold: var(--color-black);
    --tw-prose-counters: var(--color-base-600);
    --tw-prose-bullets: var(--color-base-400);
    --tw-prose-hr: var(--color-base-200);
    --tw-prose-quotes: var(--color-base-700);
    --tw-prose-quote-borders: var(--color-base-200);
    --tw-prose-captions: var(--color-base-500);
    --tw-prose-code: var(--color-black);
    --tw-prose-pre-code: var(--color-base-200);
    --tw-prose-pre-bg: var(--color-base-900);
    --tw-prose-th-borders: var(--color-base-200);
    --tw-prose-td-borders: var(--color-base-150);
  }

  .prose-invert {
    --tw-prose-body: var(--color-base-200);
    --tw-prose-headings: var(--color-base-50);
    --tw-prose-links: var(--color-blue-400);
    --tw-prose-bold: var(--color-base-50);
    --tw-prose-counters: var(--color-base-400);
    --tw-prose-bullets: var(--color-base-600);
    --tw-prose-hr: var(--color-base-800);
    --tw-prose-quotes: var(--color-base-150);
    --tw-prose-quote-borders: var(--color-base-800);
    --tw-prose-captions: var(--color-base-500);
    --tw-prose-code: var(--color-base-50);
    --tw-prose-pre-code: var(--color-base-200);
    --tw-prose-pre-bg: var(--color-base-950);
    --tw-prose-th-borders: var(--color-base-800);
    --tw-prose-td-borders: var(--color-base-850);
  }
}

@layer utilities {
  article a {
    @apply font-sans text-current underline underline-offset-2;

    /* Antes: decoration-black/15 dark:decoration-white/30 */
    @apply decoration-black/15 dark:decoration-base-200/30;

    @apply transition-colors duration-300 ease-in-out;
  }

  article a:hover {
    /* Antes: text-black dark:text-white */
    @apply text-black dark:text-base-50;

    /* Antes: decoration-black/25 dark:decoration-white/50 */
    @apply decoration-black/25 dark:decoration-base-200/50;
  }
}

.animate {
  @apply opacity-0 translate-y-3;
  @apply transition-all duration-700 ease-out;
}

.animate.show {
  @apply opacity-100 translate-y-0;
}

html #back-to-top {
  @apply opacity-0 pointer-events-none;
}

html.scrolled #back-to-top {
  @apply opacity-100 pointer-events-auto;
}